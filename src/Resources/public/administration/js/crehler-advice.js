!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=(window.__sw__.assetPath + '/bundles/crehleradvice/'),r(r.s="BK2Y")}({BK2Y:function(e,t,r){"use strict";r.r(t);var n=Shopware,i=n.Component,a=n.Mixin,c=Shopware.Data.Criteria;i.register("crehler-advice-list",{template:'{% block crehler_advice_list %}\r\n    <sw-page class="crehler-advice-list">\r\n        {% block crehler_advice_list_language_switch %}\r\n            <template #language-switch>\r\n                <sw-language-switch @on-change="onChangeLanguage" />\r\n            </template>>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_list_search_bar %}\r\n            <template slot="search-bar">\r\n                <sw-search-bar\r\n                        initialSearchType="Nazwa"\r\n                        :placeholder="$tc(\'crehler-advice.general.placeholderSearchBar\')"\r\n                        :initialSearch="term"\r\n                        @search="onSearch">\r\n                </sw-search-bar>\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_list_smart_bar_header %}\r\n            <template slot="smart-bar-header">\r\n                {% block crehler_advice_list_smart_bar_header_title %}\r\n                    <h2>\r\n                        {% block crehler_advice_list_smart_bar_header_title_text %}\r\n                            {{ $tc(\'crehler-advice.list.textHeadline\') }}\r\n                        {% endblock %}\r\n\r\n                        {% block crehler_advice_list_smart_bar_header_amount %}\r\n                            <span v-if="!isLoading" class="sw-page__smart-bar-amount">\r\n                                ({{ total }})\r\n                            </span>\r\n                        {% endblock %}\r\n                    </h2>\r\n                {% endblock %}\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_list_smart_bar_actions %}\r\n            <template slot="smart-bar-actions">\r\n                {% block crehler_advice_list_smart_bar_actions_add %}\r\n                    <sw-button :routerLink="{ name: \'crehler.advice.create\' }" variant="primary">\r\n                        {{ $tc(\'crehler-advice.list.buttonAdd\') }}\r\n                    </sw-button>\r\n                {% endblock %}\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_list_cardview %}\r\n            <template slot="content">\r\n                <div class="crehler-advice-list__content">\r\n                    {% block crehler_advice_list_content %}\r\n                        <sw-entity-listing\r\n                                class="crehler-advice-list-grid"\r\n                                v-if="items && total > 0"\r\n                                :items="items"\r\n                                :repository="entityRepository"\r\n                                detailRoute="crehler.advice.detail"\r\n                                :showSeleciton="false"\r\n                                :sort-by="sortBy"\r\n                                :sort-direction="sortDirection"\r\n                                :natural-sorting="naturalSorting"\r\n                                @column-sort="onColumnSort"\r\n                                :isLoading="isLoading"\r\n                                :columns="columns">\r\n\r\n                            {% block crehler_advice_list_grid_created_at %}\r\n                                <template #column-createdAt="{ item }">\r\n                                    {{ dateFilter(item.createdAt) }}\r\n                                </template>\r\n                            {% endblock %}\r\n\r\n                            {% block crehler_advice_list_grid_updated_at %}\r\n                                <template #column-updatedAt="{ item }">\r\n                                    {{ dateFilter(item.updatedAt) }}\r\n                                </template>\r\n                            {% endblock %}\r\n\r\n                            <template #pagination>\r\n                                {% block sw_order_list_grid_pagination %}\r\n                                    <sw-pagination\r\n                                            :page="page"\r\n                                            :limit="limit"\r\n                                            :total="total"\r\n                                            :total-visible="7"\r\n                                            @page-change="onPageChange">\r\n                                    </sw-pagination>\r\n                                {% endblock %}\r\n                            </template>\r\n                        </sw-entity-listing>\r\n                    {% endblock %}\r\n\r\n                    {% block crehler_advice_list_empty_state %}\r\n                        <sw-empty-state\r\n                                v-if="!isLoading && total == 0"\r\n                                :title="$tc(\'crehler-advice.list.contentEmpty\')"\r\n                                :subline="$tc(\'crehler-advice.general.descriptionTextModule\')">\r\n                        </sw-empty-state>\r\n                    {% endblock %}\r\n                </div>\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_list_sidebar %}\r\n            <template #sidebar>\r\n                <sw-sidebar class="crehler-advice-list__sidebar">\r\n                    {% block crehler_advice_list_sidebar_item %}\r\n                        <sw-sidebar-item\r\n                                icon="regular-undo"\r\n                                :title="$tc(\'crehler-advice.list.titleSidebarItemRefresh\')"\r\n                                @click="onRefresh">\r\n                        </sw-sidebar-item>\r\n                    {% endblock %}\r\n                </sw-sidebar>\r\n            </template>\r\n        {% endblock %}\r\n    </sw-page>\r\n{% endblock %}',inject:["repositoryFactory"],mixins:[a.getByName("listing"),a.getByName("notification"),a.getByName("placeholder")],data:function(){return{repository:null,items:null,total:0,sortBy:"createdAt",sortDirection:"ASC",naturalSorting:!1,isLoading:!1,showDeleteModal:!1}},metaInfo:function(){return{title:this.$createTitle()}},computed:{entityRepository:function(){return this.repositoryFactory.create("crehler_advice")},columns:function(){return this.getColumns()},dateFilter:function(){return Shopware.Filter.getByName("date")}},methods:{getList:function(){var e=this;this.isLoading=!0;var t=new c(this.page,this.limit);t.setTerm(this.term),t.addSorting(c.sort(this.sortBy,this.sortDirection,this.naturalSorting)),this.entityRepository.search(t,Shopware.Context.api).then((function(t){return e.total=t.total,e.items=t,e.isLoading=!1,t})).catch((function(){e.isLoading=!1}))},onDelete:function(e){this.showDeleteModal=e},onCloseDeleteModal:function(){this.showDeleteModal=!1},getColumns:function(){return[{property:"name",routerLink:"crehler.advice.detail",label:"crehler-advice.list.columnName",width:"400px",allowResize:!0,primary:!0},{property:"createdAt",label:"crehler-advice.list.columnCreatedAt",allowResize:!0},{property:"updatedAt",label:"crehler-advice.list.columnUpdatedAt",allowResize:!0}]},onChangeLanguage:function(e){Shopware.State.commit("context/setApiLanguageId",e),this.getList()},onColumnSort:function(e){this.onSortColumn(e)}}});var l=Shopware,o=l.Component,s=l.Mixin,d=l.State;o.register("crehler-advice-detail",{template:'{% block crehler_advice_detail %}\r\n    <sw-page class="crehler-advice-detail">\r\n        {% block crehler_advice_detail_smart_bar_header %}\r\n            <template slot="smart-bar-header">\r\n                {% block crehler_advice_detail_smart_bar_header_title %}\r\n                    <h2>{{ $tc(\'crehler-advice.detail.textHeadline\') }}</h2>\r\n                {% endblock %}\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_detail_smart_bar_actions %}\r\n            <template slot="smart-bar-actions">\r\n                {% block crehler_advice_detail_smart_bar_actions_cancel %}\r\n                    <sw-button :disabled="item.isLoading" :routerLink="{ name: \'crehler.advice.index\' }">\r\n                        {{ $tc(\'crehler-advice.detail.buttonCancel\') }}\r\n                    </sw-button>\r\n                {% endblock %}\r\n\r\n                {% block crehler_advice_detail_smart_bar_actions_save %}\r\n                    <sw-button-process\r\n                            class="crehler-advice-detail__save-action"\r\n                            :isLoading="isLoading"\r\n                            :processSuccess="isSaveSuccessful"\r\n                            :disabled="item.isLoading || !item.productStreamId || !item.name"\r\n                            variant="primary"\r\n                            {% if VUE3 %}\r\n                                @update:process-success="saveFinish"\r\n                            {% else %}\r\n                                @process-finish="saveFinish"\r\n                            {% endif %}\r\n                            @click.prevent="onSave">\r\n                        {{ $tc(\'crehler-advice.detail.buttonSave\') }}\r\n                    </sw-button-process>\r\n                {% endblock %}\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_detail_language_switch %}\r\n            <template #language-switch>\r\n                <sw-language-switch\r\n                        :disabled="item.isNew()"\r\n                        :save-changes-function="saveOnLanguageChange"\r\n                        :abort-change-function="abortOnLanguageChange"\r\n                        @on-change="onChangeLanguage"\r\n                />\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block crehler_advice_detail_content %}\r\n            <sw-card-view slot="content">\r\n                {% block crehler_advice_detail_content_card %}\r\n                    {% block crehler_advice_detail_content_language_info %}\r\n                        <sw-language-info :entity-description="entityName"/>\r\n                    {% endblock %}\r\n\r\n                    {% block crehler_advice_detail_content_card %}\r\n                        <sw-card :isLoading="isLoading" :title="$tc(\'crehler-advice.detail.cardTitle\')">\r\n                            {% block crehler_advice_detail_content_card_product_stream_field %}\r\n                                <sw-entity-single-select\r\n                                        id="sw-field--crossSelling-product-group"\r\n                                        {% if VUE3 %}\r\n                                            v-model:value="item.productStreamId"\r\n                                        {% else %}\r\n                                            v-model="item.productStreamId"\r\n                                        {% endif %}\r\n                                        entity="product_stream"\r\n                                        class="sw-select-cross-selling__select-product-stream"\r\n                                        :label="$tc(\'crehler-advice.detail.inputCrossSellingProductStream\')"\r\n                                        :placeholder="$tc(\'crehler-advice.detail.inputCrossSellingProductStreamPlaceholder\')"\r\n                                        show-clearable-button\r\n                                        required\r\n                                />\r\n                            {% endblock %}\r\n\r\n                            {% block crehler_advice_detail_content_card_name %}\r\n                                <sw-text-field\r\n                                        {% if VUE3 %}\r\n                                            v-model:value="item.name"\r\n                                        {% else %}\r\n                                            v-model="item.name"\r\n                                        {% endif %}\r\n                                        class="crehler-advice-detail__item_name"\r\n                                        name="sw-field--advice-name"\r\n                                        :label="$tc(\'crehler-advice.detail.fieldNameLabel\')"\r\n                                        :placeholder="placeholder(item, \'name\', $tc(\'crehler-advice.detail.fieldNamePlaceholder\'))"\r\n                                        required\r\n                                />\r\n                            {% endblock %}\r\n\r\n                            {% block crehler_advice_detail_content_card_description %}\r\n                                <sw-text-editor\r\n                                        {% if VUE3 %}\r\n                                            v-model:value="item.description"\r\n                                        {% else %}\r\n                                            v-model="item.description"\r\n                                        {% endif %}\r\n                                        type="textarea"\r\n                                        :label="$tc(\'crehler-advice.detail.descriptionLabel\')"\r\n                                        :placeholder="placeholder(item, \'description\',$tc(\'crehler-advice.detail.descriptionPlaceholder\'))"\r\n                                />\r\n                            {% endblock %}\r\n                        </sw-card>\r\n                    {% endblock %}\r\n                {% endblock %}\r\n            </sw-card-view>\r\n        {% endblock %}\r\n    </sw-page>\r\n{% endblock %}',inject:["repositoryFactory","context"],mixins:[s.getByName("notification"),s.getByName("placeholder")],data:function(){return{item:{},isLoading:!1,isSaveSuccessful:!1}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:{identifier:function(){return this.placeholder(this.item,"id")},entityName:function(){return this.placeholder(this.item,"name",this.$tc("crehler-advice.detail.placeholderNew"))}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.repository=this.repositoryFactory.create("crehler_advice"),this.getEntity()},getEntity:function(){var e=this;this.repository.get(this.$route.params.id,Shopware.Context.api).then((function(t){e.item=t}))},saveFinish:function(){this.isSaveSuccessful=!1},onSave:function(){var e=this,t=this.$tc("crehler-advice.detail.notificationSaveErrorTitle"),r=this.$tc("crehler-advice.detail.notificationSaveErrorMessage",0,{name:this.item.name}),n=this.$tc("crehler-advice.detail.notificationSaveSuccessTitle"),i=this.$tc("crehler-advice.detail.notificationSaveSuccessMessage",0,{name:this.item.name});return this.isSaveSuccessful=!1,this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then((function(){e.createNotificationSuccess({title:n,message:i}),e.isLoading=!1,e.isSaveSuccessful=!0})).catch((function(n){throw e.createNotificationError({title:t,message:r}),e.isLoading=!1,n}))},saveOnLanguageChange:function(){return this.onSave()},abortOnLanguageChange:function(){return this.repository.hasChanges(this.item)},onChangeLanguage:function(e){d.commit("context/setApiLanguageId",e),this.createdComponent()}}});var h=Shopware.Component,m=Shopware.Utils;h.extend("crehler-advice-create","crehler-advice-detail",{template:"",beforeRouteEnter:function(e,t,r){e.name.includes("crehler.advice.create")&&!e.params.id&&(e.params.id=m.createId()),r()},methods:{createdComponent:function(){Shopware.State.getters["context/isSystemDefaultLanguage"]||Shopware.State.commit("context/resetLanguageToDefault"),this.$super("createdComponent")},getEntity:function(){this.item=this.repository.create(Shopware.Context.api)},saveFinish:function(){this.isSaveSuccessful=!1,this.$router.push({name:"crehler.advice.detail",params:{id:this.item.id}})},onSave:function(){this.$super("onSave")}}});Shopware.Component.register("sw-cms-block-advice",{template:'{% block sw_cms_block_advice %}\r\n    <div class="sw-cms-block-advice">\r\n        <slot name="left">{% block sw_cms_block_advice_left %}{% endblock %}</slot>\r\n    </div>\r\n{% endblock %}'});Shopware.Component.register("sw-cms-preview-advice",{template:'{% block sw_cms_block_advice_preview %}\r\n    <div class="sw-cms-preview-advice">\r\n        <div>\r\n            <h2>Advice</h2>\r\n        </div>\r\n    </div>\r\n{% endblock %}'}),Shopware.Service("cmsService").registerCmsBlock({name:"advice",category:"commerce",label:"Advice",component:"sw-cms-block-advice",previewComponent:"sw-cms-preview-advice",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{left:{type:"text",default:{config:{content:{source:"static",value:"\n                        <div>Advice</div>\n                        ".trim()}}}}}});var u=r("lsWQ"),p=r("V1LE");Shopware.Module.register("crehler-advice",{type:"plugin",name:"CrehlerAdvice",title:"crehler-advice.general.mainMenuItemGeneral",description:"crehler-advice.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-table",entity:"crehler_advice",snippets:{"pl-PL":u,"en-GB":p},routes:{index:{component:"crehler-advice-list",path:"index",meta:{parentPath:"sw.settings.index"}},detail:{component:"crehler-advice-detail",path:"detail/:id",meta:{parentPath:"crehler.advice.index"}},create:{component:"crehler-advice-create",path:"create",meta:{parentPath:"crehler.advice.index"}}},settingsItem:[{name:"crehler-advice-index",to:"crehler.advice.index",label:"crehler-advice.general.mainMenuItemGeneral",group:"plugins",icon:"regular-table"}]})},V1LE:function(e){e.exports=JSON.parse("{}")},lsWQ:function(e){e.exports=JSON.parse("{}")}});
//# sourceMappingURL=crehler-advice.js.map